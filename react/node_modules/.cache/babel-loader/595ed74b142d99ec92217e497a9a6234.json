{"ast":null,"code":"import _defineProperty from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";var AddEventPanel=function AddEventPanel(_ref){var _jsx2;var refreshEvents=_ref.refreshEvents;var API_URL_GET=\"http://aleksanderblaszkiewicz.pl/kiedykolos/get_courses.php\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),courses=_useState2[0],setCourses=_useState2[1];var _useState3=useState(\"jezyki programowania\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"2020-12-12\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];useEffect(function(){getCourses();},[]);var getCourses=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(API_URL_GET);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setCourses(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getCourses(){return _ref2.apply(this,arguments);};}();var addEvent=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://aleksanderblaszkiewicz.pl/kiedykolos/add_event.php?name=\".concat(name,\"&date=\").concat(date));case 2:response=_context2.sent;refreshEvents();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function addEvent(){return _ref3.apply(this,arguments);};}();var updateName=function updateName(e){setName(e.target.value);};var updateDate=function updateDate(e){setDate(e.target.value);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"select\",{name:\"course\",id:\"course\",form:\"add-event\",value:name,onChange:updateName,children:courses.map(function(course){return/*#__PURE__*/_jsx(\"option\",{value:course.id,children:course.name},course.id);})}),/*#__PURE__*/_jsx(\"input\",(_jsx2={type:\"date\",id:\"date\",name:\"date\",value:\"2020-11-25\",min:\"2020-11-25\",max:\"2021-12-31\"},_defineProperty(_jsx2,\"value\",date),_defineProperty(_jsx2,\"onChange\",updateDate),_jsx2)),/*#__PURE__*/_jsx(\"button\",{onClick:addEvent,children:\"click here\"})]});};export default AddEventPanel;","map":{"version":3,"sources":["C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/src/components/AddEventPanel.js"],"names":["React","useEffect","useState","AddEventPanel","refreshEvents","API_URL_GET","courses","setCourses","name","setName","date","setDate","getCourses","fetch","response","json","data","addEvent","updateName","e","target","value","updateDate","map","course","id"],"mappings":"w0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAqB,cAAnBC,CAAAA,aAAmB,MAAnBA,aAAmB,CACvC,GAAMC,CAAAA,WAAW,8DAAjB,CADuC,cAETH,QAAQ,CAAC,EAAD,CAFC,wCAEhCI,OAFgC,eAEvBC,UAFuB,8BAGfL,QAAQ,CAAC,sBAAD,CAHO,yCAGhCM,IAHgC,eAG1BC,OAH0B,8BAIfP,QAAQ,CAAC,YAAD,CAJO,yCAIhCQ,IAJgC,eAI1BC,OAJ0B,eAMvCV,SAAS,CAAC,UAAM,CACZW,UAAU,GACb,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,UAAU,2FAAG,2KACQC,CAAAA,KAAK,CAACR,WAAD,CADb,QACTS,QADS,qCAEIA,CAAAA,QAAQ,CAACC,IAAT,EAFJ,QAETC,IAFS,eAGfT,UAAU,CAACS,IAAD,CAAV,CAHe,sDAAH,kBAAVJ,CAAAA,UAAU,2CAAhB,CAMA,GAAMK,CAAAA,QAAQ,2FAAG,4KACUJ,CAAAA,KAAK,0EAAmEL,IAAnE,kBAAgFE,IAAhF,EADf,QACPI,QADO,gBAEbV,aAAa,GAFA,wDAAH,kBAARa,CAAAA,QAAQ,2CAAd,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,CAAC,CAAI,CACpBV,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAH,CAAC,CAAI,CACpBR,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAFD,CAIA,mBACI,wCACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAC,QAAzB,CAAkC,IAAI,CAAC,WAAvC,CAAmD,KAAK,CAAEb,IAA1D,CAAgE,QAAQ,CAAEU,UAA1E,UACCZ,OAAO,CAACiB,GAAR,CAAY,SAAAC,MAAM,qBACf,eAAwB,KAAK,CAAEA,MAAM,CAACC,EAAtC,UACKD,MAAM,CAAChB,IADZ,EAAagB,MAAM,CAACC,EAApB,CADe,EAAlB,CADD,EADJ,cAQI,qBAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,IAAI,CAAC,MAAlC,CAAyC,KAAK,CAAC,YAA/C,CAA4D,GAAG,CAAC,YAAhE,CAA6E,GAAG,CAAC,YAAjF,gCAAqGf,IAArG,mCAAqHY,UAArH,SARJ,cAUI,eAAQ,OAAO,CAAEL,QAAjB,wBAVJ,GADJ,CAeH,CA5CD,CA8CA,cAAed,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst AddEventPanel = ({refreshEvents}) => {\r\n    const API_URL_GET = `http://aleksanderblaszkiewicz.pl/kiedykolos/get_courses.php`;\r\n    const [courses, setCourses] = useState([]);\r\n    const [name, setName] = useState(\"jezyki programowania\");\r\n    const [date, setDate] = useState(\"2020-12-12\");\r\n  \r\n    useEffect(() => {\r\n        getCourses();\r\n    }, []);\r\n\r\n    const getCourses = async () => {\r\n        const response = await fetch(API_URL_GET);\r\n        const data = await response.json();\r\n        setCourses(data);\r\n    }\r\n\r\n    const addEvent = async () => {\r\n        const response = await fetch(`http://aleksanderblaszkiewicz.pl/kiedykolos/add_event.php?name=${name}&date=${date}`);\r\n        refreshEvents();\r\n    }\r\n\r\n    const updateName = e => {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const updateDate = e => {\r\n        setDate(e.target.value);\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <select name=\"course\" id=\"course\" form=\"add-event\" value={name} onChange={updateName}>\r\n            {courses.map(course => (\r\n                <option key={course.id} value={course.id}>\r\n                    {course.name}\r\n                </option>\r\n            ))}\r\n            </select>\r\n            <input type=\"date\" id=\"date\" name=\"date\" value=\"2020-11-25\" min=\"2020-11-25\" max=\"2021-12-31\" value={date} onChange={updateDate}></input>\r\n            \r\n            <button onClick={addEvent} >click here</button>\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddEventPanel;"]},"metadata":{},"sourceType":"module"}