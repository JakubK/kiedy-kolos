{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import'./../App.css';var InfoPanel=function InfoPanel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),chosenEvent=_useState4[0],setChosenEvent=_useState4[1];var date=useSelector(function(state){return state.chosenDate;});var API_URL=\"https://aleksanderblaszkiewicz.pl/kiedykolos/get_events_for_day.php?date=\".concat(date);useEffect(function(){getEvents();},[date]);var getEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(API_URL);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setEvents(data);setChosenEvent(data[0]);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getEvents(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"info-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"events\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Wybrana data: \",date]}),events.map(function(event){return/*#__PURE__*/_jsx(InfoEvent,{event:event,setChosenEvent:setChosenEvent},event.id);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"event-description\",children:chosenEvent&&chosenEvent.description})]});};var InfoEvent=function InfoEvent(_ref2){var event=_ref2.event,setChosenEvent=_ref2.setChosenEvent;return/*#__PURE__*/_jsx(\"div\",{className:\"info-event\",onClick:function onClick(){return setChosenEvent(event);},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"WYDARZENIE: \",event.name]})});};export default InfoPanel;","map":{"version":3,"sources":["C:/Users/Aleksander/Documents/Uczelnia/kiedy-kolos/react/src/components/InfoPanel.js"],"names":["React","useEffect","useState","useSelector","InfoPanel","events","setEvents","chosenEvent","setChosenEvent","date","state","chosenDate","API_URL","getEvents","fetch","response","json","data","map","event","id","description","InfoEvent","name"],"mappings":"kmBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,cAAP,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eACQF,QAAQ,CAAC,EAAD,CADhB,wCACbG,MADa,eACLC,SADK,8BAEkBJ,QAAQ,EAF1B,yCAEbK,WAFa,eAEAC,cAFA,eAGpB,GAAMC,CAAAA,IAAI,CAAGN,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,UAAV,EAAN,CAAxB,CACA,GAAMC,CAAAA,OAAO,oFAA+EH,IAA/E,CAAb,CAEAR,SAAS,CAAC,UAAM,CACZY,SAAS,GACZ,CAFQ,CAEN,CAACJ,IAAD,CAFM,CAAT,CAIA,GAAMI,CAAAA,SAAS,0FAAG,2KACSC,CAAAA,KAAK,CAACF,OAAD,CADd,QACRG,QADQ,qCAEKA,CAAAA,QAAQ,CAACC,IAAT,EAFL,QAERC,IAFQ,eAGdX,SAAS,CAACW,IAAD,CAAT,CACAT,cAAc,CAACS,IAAI,CAAC,CAAD,CAAL,CAAd,CAJc,sDAAH,kBAATJ,CAAAA,SAAS,0CAAf,CAOA,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,aAAK,SAAS,CAAC,QAAf,wBACI,sCAAkBJ,IAAlB,GADJ,CAEKJ,MAAM,CAACa,GAAP,CAAW,SAACC,KAAD,qBACR,KAAC,SAAD,EAA0B,KAAK,CAAEA,KAAjC,CAAwC,cAAc,CAAEX,cAAxD,EAAgBW,KAAK,CAACC,EAAtB,CADQ,EAAX,CAFL,GADJ,cAOI,YAAK,SAAS,CAAC,mBAAf,UACKb,WAAW,EAAIA,WAAW,CAACc,WADhC,EAPJ,GADJ,CAaH,CA9BD,CAgCA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,OAA6B,IAA3BH,CAAAA,KAA2B,OAA3BA,KAA2B,CAApBX,cAAoB,OAApBA,cAAoB,CAC3C,mBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,OAAO,CAAE,yBAAMA,CAAAA,cAAc,CAACW,KAAD,CAApB,EAArC,uBACI,oCAAgBA,KAAK,CAACI,IAAtB,GADJ,EADJ,CAKH,CAND,CAQA,cAAenB,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport './../App.css';\r\n\r\n\r\n\r\nconst InfoPanel = () => {\r\n    const [events, setEvents] = useState([]);\r\n    const [chosenEvent, setChosenEvent] = useState();\r\n    const date = useSelector(state => state.chosenDate);\r\n    const API_URL = `https://aleksanderblaszkiewicz.pl/kiedykolos/get_events_for_day.php?date=${date}`;\r\n\r\n    useEffect(() => {\r\n        getEvents();\r\n    }, [date]);\r\n\r\n    const getEvents = async () => {\r\n        const response = await fetch(API_URL);\r\n        const data = await response.json();\r\n        setEvents(data);\r\n        setChosenEvent(data[0]);\r\n    }\r\n\r\n    return(\r\n        <div className=\"info-panel\">\r\n            <div className=\"events\">\r\n                <p>Wybrana data: {date}</p>\r\n                {events.map((event) => (\r\n                    <InfoEvent key={event.id} event={event} setChosenEvent={setChosenEvent}/>\r\n                ))}\r\n            </div>\r\n            <div className=\"event-description\">\r\n                {chosenEvent && chosenEvent.description}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst InfoEvent = ({event, setChosenEvent}) => {\r\n    return (\r\n        <div className=\"info-event\" onClick={() => setChosenEvent(event)}>\r\n            <p>WYDARZENIE: {event.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoPanel;"]},"metadata":{},"sourceType":"module"}